{"version":3,"file":"oscd-designer-proper.js","sourceRoot":"","sources":["../oscd-designer-proper.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable lit-a11y/click-events-have-key-events */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-alert */\n/* eslint-disable no-return-assign */\n/* eslint-disable no-debugger */\n\nimport { LitElement, html, css, svg, nothing } from 'lit';\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\nimport { query, state } from 'lit/decorators.js';\n\nimport { newEditEvent } from '@openscd/open-scd-core';\nimport { getReference, identity } from '@openscd/oscd-scl';\n\nimport { symbols } from './icons.js';\n\n/*\n// open-scd editor action for backwards compatibility\nfunction newCreateEvent(parent: Node, element: Node, reference?: Node | null) {\n  return new CustomEvent('editor-action', {\n    bubbles: true,\n    composed: true,\n    detail: { action: { new: { parent, element, reference } } },\n  });\n}\n*/\n\nconst sldNs = 'https://transpower.com/SCL/SSD/SLD/v0';\nconst gridSize = 25;\n\nconst dirs = ['E', 'S', 'W', 'N'] as const;\n\ntype Dir = (typeof dirs)[number];\n\ntype Attrs = {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n  dir: Dir;\n  bus: boolean;\n};\n\nfunction direction(str: string | null): Dir {\n  const dir = str?.toUpperCase();\n  if (dirs.includes(dir as Dir)) return dir as Dir;\n  return 'S';\n}\n\nfunction attributes(element: Element): Attrs {\n  const [x, y, w, h] = ['x', 'y', 'w', 'h'].map(name =>\n    parseInt(element.getAttributeNS(sldNs, name) ?? '1', 10)\n  );\n  const dir = direction(element.getAttributeNS(sldNs, 'dir'));\n  const bus = ['true', '1'].includes(\n    element.getAttributeNS(sldNs, 'bus')?.trim() ?? 'false'\n  );\n\n  return { x, y, w, h, bus, dir };\n}\n\nexport default class Designer extends LitElement {\n  @state()\n  doc!: XMLDocument;\n\n  @state()\n  editCount = -1;\n\n  @query('main > svg')\n  svg!: SVGGraphicsElement;\n\n  @state()\n  get substation(): Element {\n    return Array.from(this.doc.querySelectorAll(':root > Substation')).find(\n      substation =>\n        Array.from(substation.attributes)\n          .map(a => a.value)\n          .includes(sldNs)\n    )!;\n  }\n\n  @state()\n  mouseX = 0;\n\n  @state()\n  mouseY = 0;\n\n  @state()\n  paintingVoltageLevel?: { at?: [number, number] };\n\n  svgCoordinates(clientX: number, clientY: number) {\n    const p = new DOMPoint(clientX, clientY);\n    const { x, y } = p.matrixTransform(this.svg.getScreenCTM()?.inverse());\n    return [Math.floor(x), Math.floor(y)];\n  }\n\n  renderSubstation() {\n    if (!this.substation) return nothing;\n\n    const { w, h } = attributes(this.substation);\n\n    return html`<p>${this.mouseX},${this.mouseY}</p>\n      <svg\n        id=${identity(this.substation)}\n        viewBox=\"0 0 ${w} ${h}\"\n        width=\"${w * gridSize}\"\n        stroke-width=\"0.06\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        @mousemove=${(e: MouseEvent) => {\n          const [x, y] = this.svgCoordinates(e.clientX, e.clientY);\n          this.mouseX = x;\n          this.mouseY = y;\n        }}\n      >\n        ${symbols}\n        <rect\n          x=\"0\"\n          y=\"0\"\n          width=\"100%\"\n          height=\"100%\"\n          fill=\"transparent\"\n          stroke=\"lightgrey\"\n        />\n        ${symbols} ${this.renderVoltageLevels()}\n        ${this.paintingVoltageLevel\n          ? svg`<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"url(#dots)\"\n        @click=${() =>\n          this.paintingVoltageLevel!.at\n            ? this.insertVoltageLevel()\n            : (this.paintingVoltageLevel = {\n                at: [this.mouseX, this.mouseY],\n              })}/>`\n          : nothing}\n        ${this.paintingVoltageLevel?.at ? this.previewVoltageLevel() : nothing}\n      </svg>`;\n  }\n\n  renderVoltageLevels() {\n    const voltageLevels = Array.from(\n      this.substation.querySelectorAll(':scope > VoltageLevel')\n    );\n    return voltageLevels.map(level => {\n      const { x, y, w, h } = attributes(level);\n      return svg`<g id=\"${identity(level)}\">\n          <text x=\"${x}\" y=\"${\n        y - 0.1\n      }\" style=\"font: 0.8px sans-serif;\">${level.getAttribute('name')}</text>\n          <rect x=\"${x}\" y=\"${y}\" width=\"${w}\" height=\"${h}\"\n            fill=\"none\" stroke=\"orange\" />\n        </g>`;\n    });\n  }\n\n  previewVoltageLevel() {\n    if (!this.paintingVoltageLevel?.at) return nothing;\n    const [x, y] = this.paintingVoltageLevel.at;\n    const [w, h] = [this.mouseX - x, this.mouseY - y].map(c =>\n      Math.max(1, c + 1)\n    );\n    return svg`<rect x=\"${x}\" y=\"${y}\" width=\"${w}\" height=\"${h}\"\n      fill=\"none\" stroke=\"orange\" stroke-dasharray=\"0.06\" />`;\n  }\n\n  renderMenu() {\n    return html`\n      <menu>\n        <li>\n          <button @click=${() => this.resizeSubstation()}>Resize</button>\n          <button @click=${() => this.paintVoltageLevel()}>V</button>\n        </li>\n      </menu>\n    `;\n  }\n\n  render() {\n    if (!this.substation)\n      return html`<main>\n        <button @click=${() => this.insertSubstation()}>\n          New Single Line Diagram\n        </button>\n      </main>`;\n    return html`<main>\n        <h2>${this.substation.getAttribute('name')}</h2>\n        ${this.renderSubstation()}\n      </main>\n      ${this.renderMenu()}`;\n  }\n\n  reset() {\n    this.paintingVoltageLevel = undefined;\n  }\n\n  paintVoltageLevel() {\n    this.reset();\n    this.paintingVoltageLevel = {};\n  }\n\n  insertVoltageLevel() {\n    if (!this.paintingVoltageLevel?.at) return;\n    const name = prompt('name', '220kV') || '220kV';\n    const node = this.doc.createElement('VoltageLevel');\n    node.setAttribute('name', name);\n    const parent = this.substation;\n    const reference = getReference(parent, 'VoltageLevel');\n    const [x, y] = this.paintingVoltageLevel.at;\n    const [w, h] = [this.mouseX - x, this.mouseY - y].map(c =>\n      Math.max(1, c + 1)\n    );\n    node.setAttributeNS(sldNs, 'x', x.toString());\n    node.setAttributeNS(sldNs, 'y', y.toString());\n    node.setAttributeNS(sldNs, 'w', w.toString());\n    node.setAttributeNS(sldNs, 'h', h.toString());\n    this.dispatchEvent(newEditEvent({ parent, node, reference }));\n    this.reset();\n  }\n\n  resizeSubstation() {\n    const { w: oldW, h: oldH } = attributes(this.substation);\n    const w = prompt('width', oldW.toString()) || oldW.toString();\n    const h = prompt('width', oldH.toString()) || oldH.toString();\n    this.dispatchEvent(\n      newEditEvent({\n        element: this.substation,\n        attributes: {\n          w: { namespaceURI: sldNs, value: w },\n          h: { namespaceURI: sldNs, value: h },\n        },\n      })\n    );\n  }\n\n  insertSubstation() {\n    const parent = this.doc.documentElement;\n    const node = this.doc.createElement('Substation');\n    const reference = getReference(parent, 'Substation');\n    let index = 1;\n    while (this.doc.querySelector(`:root > Substation[name=\"AA${index}\"]`))\n      index += 1;\n    node.setAttribute('name', `AA${index}`);\n    node.setAttribute('xmlns:esld', sldNs);\n    node.setAttributeNS(sldNs, 'esld:w', '50');\n    node.setAttributeNS(sldNs, 'esld:h', '25');\n    this.dispatchEvent(newEditEvent({ parent, node, reference }));\n  }\n\n  static styles = css`\n    menu {\n      position: fixed;\n      bottom: 20px;\n      left: 20px;\n      list-style-type: none;\n      display: flex;\n      padding: 0;\n      margin: 0;\n      gap: 5px;\n      opacity: 50%;\n    }\n\n    main {\n      padding: 16px;\n    }\n\n    main > svg {\n      overflow: visible;\n    }\n  `;\n}\n"]}